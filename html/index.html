<!DOCTYPE html>
<html lang="en">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Document</title>
<link rel="stylesheet" href="../css/common.css">
<style>
    .bg {
        height: 100%;
        overflow: hidden;
        position: relative;
    }
    /* 轮播 公共部分 */
    
    .bg .common-content .title {
        position: fixed;
        top: 24px;
        left: 60px;
        cursor: pointer;
        user-select: none;
    }
    
    .bg .common-content .title img {
        width: 40px;
        height: 40px;
        float: left;
    }
    
    .bg .common-content .title p {
        float: left;
        height: 40px;
        font-size: 0.9em;
        line-height: 40px;
        margin-left: 10px;
    }
    /* 顶部右侧 样式 */
    
    .bg .common-content .download {
        position: fixed;
        top: 24px;
        right: 66px;
    }
    
    .bg .common-content .download .border {
        width: 130px;
        border: 1px solid #ccc;
        border-radius: 20px;
        text-align: center;
        line-height: 36px;
        color: #999;
        float: left;
        margin-left: 14px;
        box-sizing: border-box;
    }
    
    .bg .common-content .download .border:hover {
        background-color: #ccc;
        color: #666;
    }
    
    .bg .common-content .download .border div {
        display: inline-block;
        height: 36px;
    }
    
    .bg .common-content .download .border div:first {
        margin-left: 0;
    }
    
    .bg .common-content .download .border div::before {
        /* display: inline-block; */
        content: "";
        width: 22px;
        height: 22px;
        border-radius: 11px;
        background-color: pink;
        float: left;
        margin: 6px 8px 0 0;
    }
    /* 二维码 */
    
    .bg .common-content .download :last-child {
        position: relative;
    }
    
    .bg .common-content .download .border .qr-code {
        width: 110px;
        height: 110px;
        background-color: #ccc;
        position: absolute;
        top: 44px;
        left: 6px;
        display: none;
    }
    
    .bg .common-content .download .border .qr-code::before {
        display: none;
    }
    
    .bg .common-content .download .border .qr-code img {
        width: 102px;
        height: 102px;
        background-color: pink;
        margin: 4px;
    }
    
    .bg .list {
        width: 500%;
        height: 100%;
    }
    /* 轮播区域 */
    
    .bg ul li {
        width: 20%;
        height: 100%;
        background-color: yellowgreen;
        float: left;
        border: 1px solid #ccc;
        box-sizing: border-box;
    }
    /* 左右按钮 */
    
    .bg .arrow {
        height: 100%;
    }
    
    .bg .arrow div {
        width: 100px;
        height: 40px;
        line-height: 40px;
        text-align: center;
        cursor: pointer;
        font-size: 40px;
        color: #333;
        float: left;
        position: absolute;
        top: 50%;
    }
    
    .bg .arrow .left {
        display: none;
    }
    
    .bg .arrow .right {
        right: 0;
    }
    /* 轮播图指示灯 */
    
    .bg .indicate {
        height: 14px;
        position: fixed;
        bottom: 5%;
        left: 50%;
        margin-left: -80px;
    }
    
    .bg .indicate li {
        width: 14px;
        height: 14px;
        border: none;
        border-radius: 7px;
        background-color: #fff;
        float: left;
        margin-left: 20px;
    }
    
    .bg .indicate li:hover {
        background-color: rgb(166, 179, 204);
    }
    
    .bg .indicate li:first-child {
        margin-left: 0;
    }
    /* 轮播第一页样式 */
    
    .bg .list li {
        position: relative;
    }
    
    .bg .list li .illustrate {
        /* width: 300px; */
        float: left;
        position: absolute;
        top: 40%;
        left: 18%;
        font-size: 2.2em;
        line-height: 2.3em;
        color: #fff;
        font-family: SimHei;
    }
</style>
</head>

<body>
    <div class="bg">
        <ul class="list">
            <li>
                <p class="illustrate">
                    余粮收藏<br/>跨浏览器保存不再是难题
                </p>
            </li>
            <li>22</li>
            <li>33</li>
            <li>44</li>
            <li>55</li>
        </ul>
        <div class="arrow">
            <div class="left">&lt;</div>
            <div class="right">&gt;</div>
        </div>
        <ul class="indicate">
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
        </ul>
        <div class="common-content">
            <h1 class="title">
                <img src="../image/icon/star.png" alt="qiao">
                <p>余粮</p>
            </h1>
            <div class="download">
                <div class="border">
                    <div class="ios">ios</div>
                </div>
                <div class="border">
                    <div class="ios">android</div>
                </div>
                <div class="border">
                    <div class="ios">扫码下载</div>
                    <div class="qr-code">
                        <img src="../image/icon/star.png" alt="">
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<script type="text/javascript" src="../lib/jquery-3.3.1.js"></script>
<script>
    $(function() {

        // 初始化状态
        var index = 0;
        $(".indicate li").eq(index).css("background", "rgb(166, 179, 204)");
        // 轮播图翻页点击
        $(".left").click(function() {
            index--;
            index = turn(index);
        });
        $(".right").click(function() {
            index++;
            index = turn(index);
        });
        $(".indicate li").click(function() {
            // 获取当前 被点击的li 的索引 ：$(".indicate li").index(this);
            index = $(".indicate li").index(this);
            index = turn(index);
            // $(this).css("background", "rgb(166, 179, 204)");
            // $(this).siblings.css("background", "#fff");
        });
        // title 点击页面重新加载
        $(".title").click(function() {
                location.reload();
            })
            // 二维码的显示 
        $(".download").children("div:last-child").mouseover(function() {
            $(".qr-code").css("display", "block");
        });
        $(".download").children("div:last-child").mouseout(function() {
            $(".qr-code").css("display", "none");
        });

        // 轮播 的左右点按钮 方法
        function turn(index) {
            var liLength = $(".list").children().length;
            if (index < 0 || index == 0) {
                index = 0;
                $(".arrow .left").css("display", "none");
                $(".arrow .right").css("display", "block");
            } else if (index > liLength - 1 || index == liLength - 1) {
                index = liLength - 1;
                $(".arrow .left").css("display", "block");
                $(".arrow .right").css("display", "none");
            } else {
                $(".arrow .left").css("display", "block");
                $(".arrow .right").css("display", "block");
            }
            console.log(index);
            $(".list").css("margin-left", -index * 100 + "%");
            console.log(-index * 100 + "%");

            $(".indicate li").css("background", "rgb(255, 255, 255)");
            $(".indicate li").eq(index).css("background", "rgb(166, 179, 204)");

            return index;
        }
    });
</script>

</html>